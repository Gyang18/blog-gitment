<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React开发基础环境搭建 | Yang&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/yangBlog/img/favicon.ico">
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/yangBlog/assets/css/0.styles.28694182.css" as="style"><link rel="preload" href="/yangBlog/assets/js/app.bf5a58a0.js" as="script"><link rel="preload" href="/yangBlog/assets/js/2.c95f3dc1.js" as="script"><link rel="preload" href="/yangBlog/assets/js/7.e9b409de.js" as="script"><link rel="prefetch" href="/yangBlog/assets/js/10.e9d0d198.js"><link rel="prefetch" href="/yangBlog/assets/js/11.53b125a6.js"><link rel="prefetch" href="/yangBlog/assets/js/12.f28731c7.js"><link rel="prefetch" href="/yangBlog/assets/js/13.532011e6.js"><link rel="prefetch" href="/yangBlog/assets/js/14.c9364db4.js"><link rel="prefetch" href="/yangBlog/assets/js/15.29b928b1.js"><link rel="prefetch" href="/yangBlog/assets/js/16.3789f778.js"><link rel="prefetch" href="/yangBlog/assets/js/17.3d72ffab.js"><link rel="prefetch" href="/yangBlog/assets/js/18.9dfd847b.js"><link rel="prefetch" href="/yangBlog/assets/js/19.03669bd6.js"><link rel="prefetch" href="/yangBlog/assets/js/20.43e3a3f7.js"><link rel="prefetch" href="/yangBlog/assets/js/21.2c443c01.js"><link rel="prefetch" href="/yangBlog/assets/js/22.2b8557ff.js"><link rel="prefetch" href="/yangBlog/assets/js/23.35d3bcaf.js"><link rel="prefetch" href="/yangBlog/assets/js/3.894ec1da.js"><link rel="prefetch" href="/yangBlog/assets/js/4.9b1dac4f.js"><link rel="prefetch" href="/yangBlog/assets/js/5.f15a2f3c.js"><link rel="prefetch" href="/yangBlog/assets/js/6.801b23e0.js"><link rel="prefetch" href="/yangBlog/assets/js/8.d6ff01b8.js"><link rel="prefetch" href="/yangBlog/assets/js/9.0ca74578.js">
    <link rel="stylesheet" href="/yangBlog/assets/css/0.styles.28694182.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/yangBlog/" class="home-link router-link-active"><img src="/yangBlog/img/yang.png" alt="Yang's blog" class="logo"> <span class="site-name can-hide">Yang's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/yangBlog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/yangBlog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yangBlog/pages/fdd547/" aria-current="page" class="nav-link router-link-exact-active router-link-active">React</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/c47f4c/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/f7308b/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><a href="/yangBlog/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/yangBlog/tools/" class="nav-link">开发工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/yangBlog/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yangBlog/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/12df8ace52d493f6/" class="nav-link">Vue资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/yangBlog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yangBlog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/yangBlog/friends/" class="nav-link">友情链接</a></div><div class="nav-item"><a href="/yangBlog/about/" class="nav-link">关于</a></div> <a href="https://github.com/Gyang18/yangBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars3.githubusercontent.com/u/24975063?s=460u=ac1f8cea2aa61c14e9850c35b2f0ccba4647ed64&amp;v=4"> <div class="blogger-info"><h3>Gyang18</h3> <span>
        前端小菜鸟
      </span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/yangBlog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/yangBlog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yangBlog/pages/fdd547/" aria-current="page" class="nav-link router-link-exact-active router-link-active">React</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/c47f4c/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/f7308b/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><a href="/yangBlog/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/yangBlog/tools/" class="nav-link">开发工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/yangBlog/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yangBlog/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/pages/12df8ace52d493f6/" class="nav-link">Vue资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/yangBlog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/yangBlog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/yangBlog/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/yangBlog/friends/" class="nav-link">友情链接</a></div><div class="nav-item"><a href="/yangBlog/about/" class="nav-link">关于</a></div> <a href="https://github.com/Gyang18/yangBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yangBlog/pages/fdd547/" aria-current="page" class="active sidebar-link">React开发基础环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第一步：没什么的说的，按照官网来就可以了" class="sidebar-link">第一步：没什么的说的，按照官网来就可以了</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第二步：创建项目目录" class="sidebar-link">第二步：创建项目目录</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第三步：自定义运行配置，并支持less等编译" class="sidebar-link">第三步：自定义运行配置，并支持less等编译</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第四步：安装ant-design-mobile" class="sidebar-link">第四步：安装ant-design-mobile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第五步：设置-postcss-pxtorem-将px转换为rem" class="sidebar-link">第五步：设置 postcss-pxtorem 将px转换为rem</a></li></ul></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第六步设置路径别名alias：" class="sidebar-link">第六步设置路径别名alias：</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第七步：项目增加eslint风格校验：" class="sidebar-link">第七步：项目增加eslint风格校验：</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第八步：-设置css-less-module" class="sidebar-link">第八步： 设置css(less) module</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#第九步：css自动添加浏览器兼容前缀" class="sidebar-link">第九步：css自动添加浏览器兼容前缀</a></li><li class="sidebar-sub-header"><a href="/yangBlog/pages/fdd547/#最后附上webstorm-webpack-js" class="sidebar-link">最后附上webstorm.webpack.js:</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper"><div class="articleInfo-wrap" data-v-14888ed5><div class="articleInfo" data-v-14888ed5><ul class="breadcrumbs" data-v-14888ed5><li data-v-14888ed5><a href="/yangBlog/" title="首页" class="iconfont icon-home router-link-active" data-v-14888ed5></a></li> <li data-v-14888ed5><a href="/yangBlog/web" title="前端-目录页" data-v-14888ed5>前端</a></li> <li data-v-14888ed5><a href="/yangBlog/web/#React" title="前端#React" data-v-14888ed5>React</a></li></ul> <div class="info" data-v-14888ed5><div title="作者" class="author iconfont icon-touxiang" data-v-14888ed5><a href="https://github.com/Gyang18" target="_blank" title="作者" class="beLink" data-v-14888ed5>Gyang18</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-14888ed5><a href="javascript:;" data-v-14888ed5>2020-06-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          React开发基础环境搭建
        </h1> <div class="theme-vdoing-content content__default"><p><strong>我这次搭建的环境是开发一个h5的商城</strong></p> <h2 id="第一步：没什么的说的，按照官网来就可以了"><a href="#第一步：没什么的说的，按照官网来就可以了" class="header-anchor">#</a> 第一步：没什么的说的，按照官网来就可以了</h2> <p><img src="http://img.gyang.live/2020/05/11/carbon.png" alt="示例"></p> <h2 id="第二步：创建项目目录"><a href="#第二步：创建项目目录" class="header-anchor">#</a> 第二步：创建项目目录</h2> <p>我的目录如下：
<img src="http://img.gyang.live/2020/05/11/15891882291148.jpg" alt="-w487">
大家可作为参考
</p> <h2 id="第三步：自定义运行配置，并支持less等编译"><a href="#第三步：自定义运行配置，并支持less等编译" class="header-anchor">#</a> 第三步：自定义运行配置，并支持less等编译</h2> <ol><li>安装<a href="https://github.com/arackaf/customize-cra" target="_blank" rel="noopener noreferrer">customize-cra<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <p><code>yarn add customize-cra react-app-rewired --dev</code></p> <ol start="2"><li><p>在项目根目录下创建customize-cra配置文件config-overrides.js</p></li> <li><p>里面加入如下代码：</p></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { override } = require('customize-cra');

module.exports = {
   webpack: override()
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="4"><li>增加对less的支持</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { override, addLessLoader } = require('customize-cra');

module.exports = {
   webpack: override(
    addLessLoader({
       javascriptEnabled: true,
      modifyVars: { '@primary-color': '#1DA57A' },
      localIdentName: '[local]--[hash:base64:5]', // 自定义 CSS Modules 的 localIdentName
    }),
   )
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>注意：这里我安装的less-loader版本是5.0，如果是6.0及以上配置略有不同，具体配置请参考官方文档</strong></p> <ol start="5"><li>在组件中引入less文件</li></ol> <p><code>import '../xxx/xxx.less</code>即可</p> <h2 id="第四步：安装ant-design-mobile"><a href="#第四步：安装ant-design-mobile" class="header-anchor">#</a> 第四步：安装<a href="https://mobile.ant.design/docs/react/use-with-create-react-app-cn" target="_blank" rel="noopener noreferrer">ant-design-mobile<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <ol><li><p><code>npm install antd-mobile --save</code></p></li> <li><p>配置按需加载，<a href="https://mobile.ant.design/docs/react/use-with-create-react-app-cn" target="_blank" rel="noopener noreferrer">官网教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol> <p><code>npm install react-app-rewired customize-cra --save-dev</code></p> <p>更新项目package.json scripts:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;react-app-rewired start&quot;,
    &quot;build&quot;: &quot;react-app-rewired build&quot;,
    &quot;test&quot;: &quot;react-app-rewired test&quot;,
    &quot;eject&quot;: &quot;react-scripts eject&quot;
  },
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="3"><li>在 config-overrides.js中进行加载配置：</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>const { override, addLessLoader, fixBabelImports } = require('customize-cra');

module.exports = {
   webpack: override(
   fixBabelImports('import', {
      libraryName: 'antd-mobile',
      style: 'css',
    }),
    addLessLoader({
       javascriptEnabled: true,
      modifyVars: { '@primary-color': '#1DA57A' },
      localIdentName: '[local]--[hash:base64:5]', // 自定义 CSS Modules 的 localIdentName
    }),
   )
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="第五步：设置-postcss-pxtorem-将px转换为rem"><a href="#第五步：设置-postcss-pxtorem-将px转换为rem" class="header-anchor">#</a> 第五步：设置 <a href="https://github.com/cuth/postcss-pxtorem" target="_blank" rel="noopener noreferrer">postcss-pxtorem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 将px转换为rem</h3> <ol><li>安装postcss-pxtorem</li></ol> <p><code>npm install postcss-pxtorem --save-dev</code></p> <ol start="2"><li>修改config-overrides.js：</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code> const { override, addLessLoader, fixBabelImports, addPostcssPlugins } = require('customize-cra');

module.exports = {
   webpack: override(
   fixBabelImports('import', {
      libraryName: 'antd-mobile',
      style: 'css',
    }),
    addLessLoader({
       javascriptEnabled: true,
      modifyVars: { '@primary-color': '#1DA57A' },
      localIdentName: '[local]--[hash:base64:5]', // 自定义 CSS Modules 的 localIdentName
    }),
   addPostcssPlugins([require('postcss-pxtorem')({
      rootValue: 75,
      propList: ['*'],
      minPixelValue: 2,
      selectorBlackList: ['am-'], // 忽略antd相关的css
    })]),
   )
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="第六步设置路径别名alias："><a href="#第六步设置路径别名alias：" class="header-anchor">#</a> 第六步设置路径别名alias：</h2> <p>更改config-overrides.js：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  const { override, addLessLoader, fixBabelImports, addPostcssPlugins, addWebpackAlias } = require('customize-cra');

module.exports = {
   webpack: override(
   fixBabelImports('import', {
      libraryName: 'antd-mobile',
      style: 'css',
    }),
    addLessLoader({
       javascriptEnabled: true,
      modifyVars: { '@primary-color': '#1DA57A' },
      localIdentName: '[local]--[hash:base64:5]', // 自定义 CSS Modules 的 localIdentName
    }),
    addWebpackAlias({
      '@': path.resolve(__dirname, 'src/'),
      'assets': path.resolve(__dirname, 'src/assets'),
      'pages': path.resolve(__dirname, 'src/pages'),
      'comp': path.resolve(__dirname, 'src/components'),
      'api': path.resolve(__dirname, 'src/api'),
      'plug': path.resolve(__dirname, 'src/plugins'),
      'utils': path.resolve(__dirname, 'src/utils'),
      'store': path.resolve(__dirname, 'src/store'),
    }),
   addPostcssPlugins([require('postcss-pxtorem')({
      rootValue: 75,
      propList: ['*'],
      minPixelValue: 2,
      selectorBlackList: ['am-'], // 忽略antd相关的css
    })]),
   )
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="第七步：项目增加eslint风格校验："><a href="#第七步：项目增加eslint风格校验：" class="header-anchor">#</a> 第七步：项目增加eslint风格校验：</h2> <ol><li>安装eslint相关依赖，我直接使用了<a href="https://github.com/libertyAlone/airbnb-javascript-style-guide-cn" target="_blank" rel="noopener noreferrer">airbnb<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>规范</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm i babel-eslint babel-plugin-import eslint eslint-config-airbnb eslint-import-resolver-webpack eslint-loader eslint-plugin-import eslint-plugin-react -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>在项目根目录下时创建eslint配置文件 <code>.eslintrc.json</code>:</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
  //文件名 .eslintrc.json
  &quot;env&quot;: {
    &quot;browser&quot;: true,
    &quot;es6&quot;: true,
    &quot;node&quot;: true,
    &quot;commonjs&quot;: true
  },
  &quot;extends&quot;: [&quot;eslint:recommended&quot;, &quot;airbnb&quot; ],
  &quot;parserOptions&quot;: {
    &quot;ecmaFeatures&quot;: {
      &quot;experimentalObjectRestSpread&quot;: true,
      &quot;jsx&quot;: true,
      &quot;arrowFunctions&quot;: true,
      &quot;classes&quot;: true,
      &quot;modules&quot;: true,
      &quot;defaultParams&quot;: true
    },
    &quot;sourceType&quot;: &quot;module&quot;
  },
  &quot;parser&quot;: &quot;babel-eslint&quot;,
  &quot;plugins&quot;: [
    &quot;react&quot;
  ],
  // 解决eslint不能识别alias
  &quot;settings&quot;: {
    &quot;import/resolver&quot;: {
      &quot;webpack&quot;:{
        &quot;config&quot;: &quot;./webstorm.webpack.js&quot;
      }
    }
  },
  &quot;rules&quot;: {
    // 使jsx语法也能在js中运行
    &quot;react/jsx-filename-extension&quot;: [1, { &quot;extensions&quot;: [&quot;.js&quot;, &quot;.jsx&quot;] }]
  }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="第八步：-设置css-less-module"><a href="#第八步：-设置css-less-module" class="header-anchor">#</a> 第八步： 设置css(less) module</h2> <p>在config-overrides.js中修改addLessLoader：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    addLessLoader({
      strictMath: true,
      noIeCompat: true,
      loader: &quot;css-loader&quot;,
      options: {
        modules: {
          localIdentName: &quot;[name]__[local]___[hash:base64:5]&quot;,
        },
        sourceMap: true
      }
    })
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>页面中使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>import style from styles.module.less;

// 这里需要注意一个细节：如果css中命名是 a-b 那么引用的时候就是style['a-b'],所以这里建议尽量使用驼峰命名: 
style.titleClore or style.title

&lt;div className={style.xxx}&gt;&lt;/div&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>这里需要注意版本问题：不同的版本配置结构略有不同：为了不出现问题，请与我的版本保持一致：</strong></p> <ol><li>customize-cra：1.0.0-alpha</li> <li>less: 3.11.1</li> <li>less-loader: 5.0.0</li></ol> <p><a href="https://www.jianshu.com/p/94ac7250ccf0" target="_blank" rel="noopener noreferrer">参考教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="第九步：css自动添加浏览器兼容前缀"><a href="#第九步：css自动添加浏览器兼容前缀" class="header-anchor">#</a> 第九步：css自动添加浏览器兼容前缀</h2> <p>首先需要安装一下依赖：
<code>npm install postcss-loader autoprefixer --save-dev</code></p> <p>然后在根目录下新建 <code>postcss.config.js</code></p> <p>写入：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    require('autoprefixer'),
  ],
};

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>重启项目即可，如果没有效果的话，请检查一下package.json</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  &quot;browserslist&quot;: {
    &quot;production&quot;: [
      &quot;&gt; 0.5%&quot;,
      &quot;last 2 versions&quot;,
      &quot;Firefox ESR&quot;,
      &quot;not dead&quot;,
      &quot;iOS &gt;= 8&quot;,
      &quot;Firefox &gt;= 20&quot;,
      &quot;Android &gt; 4.4&quot;
    ],
    &quot;development&quot;: [
      &quot;&gt; 0.5%&quot;,
      &quot;last 2 versions&quot;,
      &quot;Firefox ESR&quot;,
      &quot;not dead&quot;,
      &quot;iOS &gt;= 8&quot;,
      &quot;Firefox &gt;= 20&quot;,
      &quot;Android &gt; 4.4&quot;
    ]
  },
  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="最后附上webstorm-webpack-js"><a href="#最后附上webstorm-webpack-js" class="header-anchor">#</a> 最后附上webstorm.webpack.js:</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>const path = require('path');
module.exports = {
  context: path.resolve(__dirname, './'),
  resolve: {
    extensions: ['.js', '.jsx', '.json', 'ts', 'tsx'],
    alias: {
      '@': path.resolve('src'),
      'assets': path.resolve(__dirname, 'src/assets'),
      'pages': path.resolve(__dirname, 'src/pages'),
      'comp': path.resolve(__dirname, 'src/components'),
      'api': path.resolve(__dirname, 'src/api'),
      'plug': path.resolve(__dirname, 'src/plugins'),
      'helper': path.resolve(__dirname, 'src/helper'),
      'store': path.resolve(__dirname, 'src/store'),
    },
  },
};

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>注意：这里面的路径别名设置与config-overrides.js里面的别名设置要一致</strong></p> <p><em>更改config-overrides.js清请重启项目看效果</em></p> <p>如后续有更多配置，将持续更新！</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Gyang18/yangBlog/edit/master/docs/01.前端/02.React/01.React开发基础环境搭建.md" target="_blank" rel="noopener noreferrer">编辑</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/06/16, 9:06:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/yangBlog/pages/c47f4c/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">
        Vue源码解析笔记
      </div></a> <a href="/yangBlog/pages/f7308b/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">
        node介绍
      </div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/yangBlog/pages/c47f4c/" class="prev">Vue源码解析笔记</a></span> <span class="next"><a href="/yangBlog/pages/f7308b/">node介绍</a>
        →
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/yangBlog/archives/" class="iconfont icon-shizhong">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/yangBlog/pages/05d7b8/"><div>css资源收藏</div></a> <span>06-14</span></dt></dl><dl><dd>02</dd> <dt><a href="/yangBlog/pages/345202/"><div>工具库资源</div></a> <span>06-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/yangBlog/pages/8c38fb/"><div>uni-app资源</div></a> <span>06-14</span></dt></dl> <dl><dd></dd> <dt><a href="/yangBlog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div> </main></div> <div class="footer"><div class="icons"><a href="mailto:2770723534@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Gyang18" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
     | Copyright © 2019-2020
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/yangBlog/assets/js/app.bf5a58a0.js" defer></script><script src="/yangBlog/assets/js/2.c95f3dc1.js" defer></script><script src="/yangBlog/assets/js/7.e9b409de.js" defer></script>
  </body>
</html>